<div class="loading-state" [class.loading-state--inline]="variant() === 'inline'">
  @if (loading()) {
    <div class="loading-state__content loading-state__content--loading" role="status" aria-live="polite">
      <mat-progress-spinner
        [diameter]="variant() === 'inline' ? 25 : 32"
        [strokeWidth]="variant() === 'inline' ? 3 : 4"
        mode="indeterminate"
      ></mat-progress-spinner>
      <span class="loading-state__message">{{ loadingLabel() }}</span>
    </div>
  } @else if (error()) {
    <div class="loading-state__content loading-state__content--error" role="alert">
      <mat-icon [matTooltip]="error()">error_outline</mat-icon>
      <div class="loading-state__error-body">
        <span class="loading-state__message">{{ error() }}</span>
        @if (retry()) {
          @if (variant() === 'inline') {
            <button mat-icon-button type="button" color="primary" aria-label="{{ retryLabel() }}" (click)="onRetry()" [matTooltip]="retryLabel()">
              <mat-icon>refresh</mat-icon>
            </button>
          } @else {
            <button mat-stroked-button type="button" color="primary" (click)="onRetry()">
              <mat-icon>refresh</mat-icon>
              {{ retryLabel() }}
            </button>
          }
        }
      </div>
    </div>
  } @else {
    <ng-content />
  }
</div>
